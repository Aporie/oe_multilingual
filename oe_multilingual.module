<?php

/**
 * @file
 * Multilingual module.
 */

declare(strict_types = 1);

use Drupal\Core\Url;

/**
 * Implements hook_language_switch_links_alter().
 *
 * Replaces the language links labels with the native language version.
 */
function oe_multilingual_language_switch_links_alter(array &$links, string $type, Url $url): void {
  $original_languages = \Drupal::languageManager()->getStandardLanguageList();
  foreach ($links as $code => &$link) {
    if (isset($original_languages[$code])) {
      $link['title'] = $original_languages[$code][1];
    }
  }

  // Manage 2 special cases.
  $links['pt']['title'] = 'PortuguÃªs';
  $links['mt']['title'] = 'Malti';
}
